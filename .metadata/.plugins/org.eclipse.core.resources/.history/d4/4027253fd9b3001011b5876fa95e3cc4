package qlhp;

import java.time.LocalDate;

public class Test {
    public static void main(String[] args) {
        // 1. Initialize the management object
        QuanLyHocPhan qlhp = new QuanLyHocPhan();

        System.out.println("--- TRẠNG THÁI DANH SÁCH BAN ĐẦU ---");
        qlhp.inDanhSach(); // Should print "Danh sách rỗng."

        try {
            // 2. Create course objects
            HocPhan hv1 = new HocPhanTrucTuyen(
                "A001", "Nguyen Van A", 2000000,
                LocalDate.of(2025, 1, 1),
                LocalDate.of(2025, 12, 1),
                990.0, 550.0, "https://example.com/course1"
            );

            HocPhan hv2 = new HocPhanTrucTuyen(
                "A002", "Nguyen Van B", 3000000,
                LocalDate.of(2025, 2, 15),
                LocalDate.of(2025, 11, 30),
                800.0, 750.0, "https://example.com/course2"
            );

            HocPhan hv3 = new HocPhanTrucTuyen(
                "A003", "Nguyen Van C", 4500000,
                LocalDate.of(2025, 3, 1),
                LocalDate.of(2025, 9, 1),
                900.0, 880.0, "https://example.com/course3"
            );

            // 3. CRITICAL STEP: Add the created objects to the list
            System.out.println("\n--- THÊM CÁC HỌC PHẦN VÀO DANH SÁCH ---");
            qlhp.addHocPhan(hv1);
            qlhp.addHocPhan(hv2);
            qlhp.addHocPhan(hv3);

            // This will fail because the MSSV 'A003' already exists
            qlhp.addHocPhan(hv3); 
            
            // 4. Display the final list
            System.out.println("\n--- DANH SÁCH HỌC PHẦN SAU KHI THÊM ---");
            qlhp.inDanhSach();

        } catch (IllegalArgumentException e) {
            System.err.println("Lỗi khởi tạo dữ liệu: " + e.getMessage());
        } catch (Exception e) {
            System.err.println("Đã xảy ra lỗi không mong muốn: " + e.getMessage());
        }
    }
}