package quanlynhanvien;
import java.util.*;
public class CongTy {
	private List<NhanVien> dsnv ;
	public CongTy() {
		dsnv  =  new ArrayList<>() ;   
	} 

	public void inDanhSach() {  
		  if (dsnv.isEmpty()) {  
		        System.out.println("Danh Sách Nhân Viên Rỗng");
		        return; 
		    }
		  for (NhanVien nv : dsnv) { 
		        System.out.println(nv); 
		    }
	}
	public NhanVien timMaNhanVien(String manv) {  
		for(NhanVien nv : dsnv ) {  
			if(nv.getManv().equalsIgnoreCase(manv)) { 
				return nv ; 
			}
		}
		return  null; 
		 
 }
	public boolean themNhanVien(NhanVien nvm ) {
		if(nvm == null   ) return false  ; 
		if(timMaNhanVien(nvm.getManv()) == null) { 
			dsnv.add(nvm) ; 
			 return true;  
		}
		return false ; 
		
	}
	public boolean xoaNhanVien(String msnv )  {  
		NhanVien nvCanXoa = timMaNhanVien(msnv) ; 
		if(nvCanXoa != null ) { 
			dsnv.remove(nvCanXoa) ;  
			return true ; 
		}
		System.out.println("không tồn tại nhân viên cần xóa");
		return false ; 
	}	
	public double tinhTrungBinhLuong() {  
		double tinhTongLuong  =0  ; 
		int soNhanVien = 0 ; 
		for(NhanVien nv : dsnv ) { 
			if(nv instanceof NhanVienBanHang)  { 
				tinhTongLuong += nv.tinhLuong() ; 
				soNhanVien++ ; 
			}
		}
		return (soNhanVien > 0  ) ?  tinhTongLuong / soNhanVien  :  0  ; 
		
	}
	public String tieuDe() { 
		return String.format("%-8s | %-15s | %-11s | %12s | %12s |",
				"MANV" , "HO TEN" ," SDT" ,"Luong Can Ban"," Tien Luong"); 
	}


}